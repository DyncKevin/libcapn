<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libcapn: Apple Push Notification Service</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="libcapn"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libcapn
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Apple Push Notification Service</div>  </div>
</div><!--header-->
<div class="contents">

<p>Apple Push Notification Service.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Apple Push Notification Service:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__apn.png" border="0" alt="" usemap="#group____apn"/>
<map name="group____apn" id="group____apn">
<area shape="rect" id="node1" href="group__feedback.html" title="Feedback Service. " alt="" coords="280,5,408,33"/><area shape="rect" id="node3" href="group__payload.html" title="Notification Payload. " alt="" coords="274,70,414,98"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__feedback"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__feedback.html">Feedback Service</a></td></tr>
<tr class="memdesc:group__feedback"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feedback Service. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__payload"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html">Notification Payload</a></td></tr>
<tr class="memdesc:group__payload"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification Payload. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct____apn__ctx"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apn.html#struct____apn__ctx">__apn_ctx</a></td></tr>
<tr class="memdesc:struct____apn__ctx"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection context.  <a href="group__apn.html#struct____apn__ctx">More...</a><br/></td></tr>
<tr class="separator:struct____apn__ctx"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab6accd834758a13c93b8f8c7c6501ae2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apn.html#gab6accd834758a13c93b8f8c7c6501ae2">apn_add_token</a> (<a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> ctx, const char *token, <a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *error)</td></tr>
<tr class="memdesc:gab6accd834758a13c93b8f8c7c6501ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new target device token.  <a href="#gab6accd834758a13c93b8f8c7c6501ae2">More...</a><br/></td></tr>
<tr class="separator:gab6accd834758a13c93b8f8c7c6501ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae94d27f40a85bccb45ac7ac23ab31875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apn.html#gae94d27f40a85bccb45ac7ac23ab31875">apn_connect</a> (const <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> ctx, <a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *error) <a class="el" href="platform_8h.html#a395f35223778c6b04a31c26c8c1624fa">__apn_attribute_warn_unused_result__</a></td></tr>
<tr class="memdesc:gae94d27f40a85bccb45ac7ac23ab31875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens Apple Push Notification Service connection.  <a href="#gae94d27f40a85bccb45ac7ac23ab31875">More...</a><br/></td></tr>
<tr class="separator:gae94d27f40a85bccb45ac7ac23ab31875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e0a197b01bb4f3706bc0a334e537521"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apn.html#ga8e0a197b01bb4f3706bc0a334e537521">apn_copy</a> (const <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> ctx, <a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *error) <a class="el" href="platform_8h.html#a395f35223778c6b04a31c26c8c1624fa">__apn_attribute_warn_unused_result__</a></td></tr>
<tr class="memdesc:ga8e0a197b01bb4f3706bc0a334e537521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a deep copy of <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure.  <a href="#ga8e0a197b01bb4f3706bc0a334e537521">More...</a><br/></td></tr>
<tr class="separator:ga8e0a197b01bb4f3706bc0a334e537521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaac0049067c3610901a507f7d2e03f0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apn.html#gaaac0049067c3610901a507f7d2e03f0c">apn_init</a> (<a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> *ctx, const char *cert, const char *private_key, const char *private_key_pass, <a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *error) <a class="el" href="platform_8h.html#a395f35223778c6b04a31c26c8c1624fa">__apn_attribute_warn_unused_result__</a></td></tr>
<tr class="memdesc:gaaac0049067c3610901a507f7d2e03f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new connection context which is needed to hold the data for a connection to Apple Push Notification/Feedback Service.  <a href="#gaaac0049067c3610901a507f7d2e03f0c">More...</a><br/></td></tr>
<tr class="separator:gaaac0049067c3610901a507f7d2e03f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3980a47a018a5e1689d9ecda3fc60a6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apn.html#ga3980a47a018a5e1689d9ecda3fc60a6c">apn_send</a> (const <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> ctx, <a class="el" href="group__payload.html#gadd50c6398444e7328d583b34e843fc99">apn_payload_ctx_ref</a> payload_ctx, <a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *error)</td></tr>
<tr class="memdesc:ga3980a47a018a5e1689d9ecda3fc60a6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends push notification.  <a href="#ga3980a47a018a5e1689d9ecda3fc60a6c">More...</a><br/></td></tr>
<tr class="separator:ga3980a47a018a5e1689d9ecda3fc60a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Apple Push Notification Service. </p>
<p>Apple Push Notification service (APNs for short) transports and routes a notification from a given provider to a given device. A notification is a short message consisting of two major pieces of data: the device token and the <a class="el" href="group__payload.html">payload</a>.</p>
<p>The device token is analogous to a phone number; it contains information that enables APNs to locate the device on which the client application is installed. APNs also uses it to authenticate the routing of a notification.</p>
<dl class="section attention"><dt>Attention</dt><dd>The Apple is not guarantee delivery, you should not depend on the remote-notifications facility for delivering critical data to an application via the payload. And never include sensitive data in the payload.</dd></dl>
<p>The payload specifies how the user of an application on a device is to be alerted.</p>
<p>To establish secure connection from APNs uses SSL certificate and private key. The SSL certificate required for these connections is provisioned through the iOS Provisioning Portal.</p>
<dl class="section note"><dt>Note</dt><dd>To establish a TLS session with APNs, an Entrust Secure CA root certificate must be installed on the provider’s server. If on your systems the certificate is not available, you can download this certificate from the Entrust SSL Certificates <a href="http://www.entrust.net">website</a>.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>You should also retain connections with APNs across multiple notifications. APNs may consider connections that are rapidly and repeatedly established and torn down as a denial-of-service attack. Upon error, APNs closes the connection on which the error occurred.</dd></dl>
<p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;capn/apn.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;capn/version.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code" href="group__payload.html#struct____apn__payload">apn_payload_ctx_ref</a> payload_ctx = NULL;</div>
<div class="line">    <a class="code" href="group__apn.html#struct____apn__ctx">apn_ctx_ref</a> ctx = NULL;</div>
<div class="line">    <a class="code" href="group__errors.html#struct____apn__error">apn_error_ref</a> error = NULL;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *push_message = <span class="stringliteral">&quot;Test Push Message&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *cert_path = <span class="stringliteral">&quot;apns-dev-cert.pem&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *key_path = <span class="stringliteral">&quot;apns-dev-key.pem&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *token = <span class="stringliteral">&quot;04C11AF19F8535381BC30D1F875EF9A0C626466932571C2AA2296B8C562D3979&quot;</span>;</div>
<div class="line">    time_t time_now = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__apn.html#gaaac0049067c3610901a507f7d2e03f0c">apn_init</a>(&amp;ctx, cert_path, key_path, NULL, &amp;error) == <a class="code" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a>){</div>
<div class="line">        printf(<span class="stringliteral">&quot;%s: %d\n&quot;</span>, <a class="code" href="group__errors.html#gab60fefd5e390b718e2527ba787cd670e">apn_error_message</a>(error),  <a class="code" href="group__errors.html#ga2e837ea5e7996615dea4edab6edee6bc">APN_ERR_CODE_WITHOUT_CLASS</a>(<a class="code" href="group__errors.html#ga1654b036b0456605a122e3269280f637">apn_error_code</a>(error)));</div>
<div class="line">        <a class="code" href="group__errors.html#gadb707b7a9ee5c41bb7abca611317228f">apn_error_free</a>(&amp;error);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="group__feedback.html#gaf7b1125708afa5b381e9c2f71a12c9c7">apn_set_mode</a>(ctx, <a class="code" href="apn_8h.html#a6cc2a3e9417f1fed8bdcf5d57a59aaa2a09e94b0539b19502616f641bb323f540">APN_MODE_SANDBOX</a>, NULL);</div>
<div class="line">    <a class="code" href="group__apn.html#gab6accd834758a13c93b8f8c7c6501ae2">apn_add_token</a>(ctx, token, NULL);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__payload.html#ga10e505f529aca4624cb9c3530206dc42">apn_payload_init</a>(&amp;payload_ctx, &amp;error) == <a class="code" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;%s: %d\n&quot;</span>, <a class="code" href="group__errors.html#gab60fefd5e390b718e2527ba787cd670e">apn_error_message</a>(error), <a class="code" href="group__errors.html#ga2e837ea5e7996615dea4edab6edee6bc">APN_ERR_CODE_WITHOUT_CLASS</a>(<a class="code" href="group__errors.html#ga1654b036b0456605a122e3269280f637">apn_error_code</a>(error)));</div>
<div class="line">        <a class="code" href="group__feedback.html#ga03e25540da476abb4f096856e17f3fc1">apn_free</a>(&amp;ctx);</div>
<div class="line">        <a class="code" href="group__errors.html#gadb707b7a9ee5c41bb7abca611317228f">apn_error_free</a>(&amp;error);</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    time(&amp;time_now);</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="group__payload.html#ga35fcb2c60cd280cdabfee6fde1c03540">apn_payload_set_badge</a>(payload_ctx, 10, NULL);</div>
<div class="line">    <a class="code" href="group__payload.html#ga540938c951546efd6d03750ace25240e">apn_payload_set_body</a>(payload_ctx, push_message, NULL);</div>
<div class="line">    <a class="code" href="group__payload.html#ga7924b2be5adf0eb660930c84187f3ee7">apn_payload_set_expiry</a>(payload_ctx, time_now + 3600, NULL);</div>
<div class="line">    <a class="code" href="group__payload.html#ga0572cd3a7bdb3602c1f69b8f7ed80dfb">apn_payload_set_sound</a>(payload_ctx, <span class="stringliteral">&quot;default&quot;</span>,  NULL);</div>
<div class="line">    <a class="code" href="group__payload.html#gacad06837747aa98c0c92a91f5532e475">apn_payload_add_custom_property_integer</a>(payload_ctx, <span class="stringliteral">&quot;int_property&quot;</span>, 20, NULL);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__apn.html#gae94d27f40a85bccb45ac7ac23ab31875">apn_connect</a>(ctx, &amp;error) == <a class="code" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a>) {</div>
<div class="line">       printf(<span class="stringliteral">&quot;Could not connected to Apple Push Notification Servece: %s (%d)\n&quot;</span>, <a class="code" href="group__errors.html#gab60fefd5e390b718e2527ba787cd670e">apn_error_message</a>(error), <a class="code" href="group__errors.html#ga2e837ea5e7996615dea4edab6edee6bc">APN_ERR_CODE_WITHOUT_CLASS</a>(<a class="code" href="group__errors.html#ga1654b036b0456605a122e3269280f637">apn_error_code</a>(error)));</div>
<div class="line">       <a class="code" href="group__payload.html#gac0d280f921dca62ab0e001053a8e2540">apn_payload_free</a>(&amp;payload_ctx);</div>
<div class="line">       <a class="code" href="group__feedback.html#ga03e25540da476abb4f096856e17f3fc1">apn_free</a>(&amp;ctx);</div>
<div class="line">       <a class="code" href="group__errors.html#gadb707b7a9ee5c41bb7abca611317228f">apn_error_free</a>(&amp;error);</div>
<div class="line">       <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__apn.html#ga3980a47a018a5e1689d9ecda3fc60a6c">apn_send</a>(ctx, payload_ctx, &amp;error) == <a class="code" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a>) {</div>
<div class="line">       printf(<span class="stringliteral">&quot;Could not sent push: %s (%d)\n&quot;</span>, <a class="code" href="group__errors.html#gab60fefd5e390b718e2527ba787cd670e">apn_error_message</a>(error),  <a class="code" href="group__errors.html#ga2e837ea5e7996615dea4edab6edee6bc">APN_ERR_CODE_WITHOUT_CLASS</a>(<a class="code" href="group__errors.html#ga1654b036b0456605a122e3269280f637">apn_error_code</a>(error)));</div>
<div class="line">       </div>
<div class="line">       <span class="keywordflow">if</span>(<a class="code" href="group__errors.html#ga2e837ea5e7996615dea4edab6edee6bc">APN_ERR_CODE_WITHOUT_CLASS</a>(<a class="code" href="group__errors.html#ga1654b036b0456605a122e3269280f637">apn_error_code</a>(error)) == <a class="code" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a7df8ece131b9072c6ea963ae793187a6">APN_ERR_TOKEN_INVALID</a>) {</div>
<div class="line">           printf(<span class="stringliteral">&quot;Invalid token: %s\n&quot;</span>, <a class="code" href="group__errors.html#ga309d3766a89d4b865c821fb2a3d766d5">apn_error_invalid_token</a>(error));</div>
<div class="line">       }</div>
<div class="line">       </div>
<div class="line">       <a class="code" href="group__feedback.html#gae72c80a16ef7e7101c898fe2ada40b69">apn_close</a>(ctx);</div>
<div class="line">       <a class="code" href="group__payload.html#gac0d280f921dca62ab0e001053a8e2540">apn_payload_free</a>(&amp;payload_ctx);</div>
<div class="line">       <a class="code" href="group__feedback.html#ga03e25540da476abb4f096856e17f3fc1">apn_free</a>(&amp;ctx);</div>
<div class="line">       <a class="code" href="group__errors.html#gadb707b7a9ee5c41bb7abca611317228f">apn_error_free</a>(&amp;error);</div>
<div class="line">       <span class="keywordflow">return</span> 1;</div>
<div class="line">    } </div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__feedback.html#gae72c80a16ef7e7101c898fe2ada40b69">apn_close</a>(ctx);</div>
<div class="line">    <a class="code" href="group__payload.html#gac0d280f921dca62ab0e001053a8e2540">apn_payload_free</a>(&amp;payload_ctx);</div>
<div class="line">    <a class="code" href="group__feedback.html#ga03e25540da476abb4f096856e17f3fc1">apn_free</a>(&amp;ctx);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a href="http://developer.apple.com/library/mac/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html#//apple_ref/doc/uid/TP40008194-CH100-SW9">Apple Push Notification Service</a> for more information </dd></dl>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct____apn__ctx" id="struct____apn__ctx"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct __apn_ctx</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Connection context. </p>
<p>Uses to store connection data for Apple Push Notification/Feedback Service </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="feedback_8c-example.html#_a0">feedback.c</a>, and <a class="el" href="send_push_8c-example.html#_a1">send_push.c</a>.</dd>
</dl></div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for __apn_ctx:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="struct____apn__ctx__coll__graph.png" border="0" usemap="#____apn__ctx_coll__map" alt="Collaboration graph"/></div>
<map name="____apn__ctx_coll__map" id="____apn__ctx_coll__map">
<area shape="rect" id="node2" href="apn_8h.html#struct____apn__binary__token" title="{__apn_binary_token\n||}" alt="" coords="5,153,147,234"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a61a8e4cb3b88cb72181970cad8d63899"></a><a class="el" href="platform_8h.html#a8dc8083897335125630f1af5dafd5831">SOCKET</a></td>
<td class="fieldname">
sock</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a23445913fd272b3ebc02be032cb5f73a"></a>SSL *</td>
<td class="fieldname">
ssl</td>
<td class="fielddoc">
Pointer to <code>SSL</code> structure. <p>Is used to hold data for a TLS/SSL connection </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5eb5977d6e932932ad2db379f6a1aca4"></a>uint32_t</td>
<td class="fieldname">
__tokens_count</td>
<td class="fielddoc">
Device tokens count. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a67d8a63f816f33cd35adabeeaddc31eb"></a>char *</td>
<td class="fieldname">
certificate_file</td>
<td class="fielddoc">
Path to an SSL certificate file. <p>The SSL certificate used establish a secure connection </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad653593349de34720f244e4d40119cbe"></a>char *</td>
<td class="fieldname">
private_key_file</td>
<td class="fielddoc">
Path to private key file. <p>The private key used to establish secure connection </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="afabe02e4f9dbb92942450142706ccef4"></a><a class="el" href="apn_8h.html#a1a937975ab8028f95f11024471240aef">apn_binary_token_ref</a> *</td>
<td class="fieldname">
tokens</td>
<td class="fielddoc">
Target devices tokens. <p>The device token is an opaque identifier of a device that Apple Push Notification Service gives to the device when it first connects with it. Device token is used to identify a target device which should receive the notification </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa3007fb736eb1a397d855b23b3a57d30"></a>char *</td>
<td class="fieldname">
private_key_pass</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a067fcf439ae2c3c592fb604104e4633b"></a>uint8_t</td>
<td class="fieldname">
feedback</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6552a21e92c47f8061e55f29384958dd"></a>uint8_t</td>
<td class="fieldname">
mode</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaaac0049067c3610901a507f7d2e03f0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t apn_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>private_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>private_key_pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new connection context which is needed to hold the data for a connection to Apple Push Notification/Feedback Service. </p>
<p>This function allocates memory for a connection context which should be freed - call <a class="el" href="group__feedback.html#ga03e25540da476abb4f096856e17f3fc1" title="Frees memory allocated for a connection context. ">apn_free()</a> function for it</p>
<dl class="section warning"><dt>Warning</dt><dd></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__feedback.html#ga03e25540da476abb4f096856e17f3fc1" title="Frees memory allocated for a connection context. ">apn_free()</a> </dd>
<dd>
<a class="el" href="group__feedback.html#ga052055e0fadf889c6a2f42ecd93dbee2" title="Sets a path to a private key which will be used to establish secure connection. ">apn_set_private_key()</a> </dd>
<dd>
<a class="el" href="group__feedback.html#ga31efea3897421ededa4217f44adf976f" title="Sets path to an SSL certificate which will be used to establish secure connection. ">apn_set_certificate()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ctx</td><td>- Double pointer to <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure. Used to return new connection context. Cannot be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cert</td><td>- path to an SSL certificate which will be used to establish secure connection. Can be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">private_key</td><td>- path to private key which used to establish secure connection. Can be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">private_key_pass</td><td>- Private key passphrase. Can be NULL </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">error</td><td>- Pointer to pointer to <code><a class="el" href="group__errors.html#gaa424e426456164c91dee79e62a62d847">apn_error</a></code> structure to return error information to the caller. Pass NULL as the <code><a class="el" href="group__errors.html#gaa424e426456164c91dee79e62a62d847">apn_error</a></code> pointer, if error information should not be returned to the caller</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="apn_8h.html#a62cf6d2d25236abf7592c68f3a7cd74b">APN_SUCCESS</a> on success, or <a class="el" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a> on failure with error information stored in <code>error</code></dd>
<dd>
<ul>
<li><a class="el" href="apn_8h.html#a62cf6d2d25236abf7592c68f3a7cd74b">APN_SUCCESS</a> on success</li>
<li><a class="el" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a> on failure with error information stored in <code>error</code></li>
</ul>
</dd></dl>
<p><b>Returned error codes (<a class="el" href="group__errors.html#ga1654b036b0456605a122e3269280f637" title="Returns error code. ">apn_error_code()</a>):</b></p>
<ul>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a8fa71c0af4aff3201d543f99be124bd8">APN_ERR_INVALID_ARGUMENT</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a010bf4c38b3c2a3a0d258d50e1a01711" title="No free memory. ">APN_ERR_NOMEM</a> </li>
</ul>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="feedback_8c-example.html#a2">feedback.c</a>, and <a class="el" href="send_push_8c-example.html#a3">send_push.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gae94d27f40a85bccb45ac7ac23ab31875"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t apn_connect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a>&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens Apple Push Notification Service connection. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__feedback.html#gae72c80a16ef7e7101c898fe2ada40b69" title="Closes Apple Push Notification/Feedback Service connection. ">apn_close()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>- Pointer to an initialized <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure. Cannot be NULL </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">error</td><td>- Pointer to apn_error structure to return error information to the caller. Pass NULL as the apn_error pointer, if information should not be returned to the caller</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="apn_8h.html#a62cf6d2d25236abf7592c68f3a7cd74b">APN_SUCCESS</a> on success</li>
<li><a class="el" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a> on failure with error information stored in <code>error</code></li>
</ul>
</dd></dl>
<p><b>Returned error codes (<a class="el" href="group__errors.html#ga1654b036b0456605a122e3269280f637" title="Returns error code. ">apn_error_code()</a>):</b></p>
<ul>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a2d36830b0ee9041569a8c3ff045411ac" title="Unable to resolve host. ">APN_ERR_COULD_NOT_RESOLVE_HOST</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a77d9132d80fa759f21be8932e0d37de0" title="Unable to create TCP socket. ">APN_ERR_COULD_NOT_CREATE_SOCKET</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8ae4374bc6ceb26217c25b63625c81bd1c" title="Could not initialize connection. ">APN_ERR_COULD_NOT_INITIALIZE_CONNECTION</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a4a76ca1ce6585e8201ef6565ffced611" title="Unable to use specified SSL certificate to set up a secure connection. ">APN_ERR_UNABLE_TO_USE_SPECIFIED_CERTIFICATE</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8aa632a255379e81e520bf4728cd5ab04a" title="Unable to use specified private key to set up a secure connection. ">APN_ERR_UNABLE_TO_USE_SPECIFIED_PRIVATE_KEY</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a010bf4c38b3c2a3a0d258d50e1a01711" title="No free memory. ">APN_ERR_NOMEM</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8af1ec335ef91dee3497056c2c0245c3d4" title="Could not initialize SSL connection. ">APN_ERR_COULD_NOT_INITIALIZE_SSL_CONNECTION</a> </li>
</ul>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="send_push_8c-example.html#a19">send_push.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga8e0a197b01bb4f3706bc0a334e537521"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a> apn_copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a>&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a deep copy of <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>- Pointer to an initialized <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure. Cannot be NULL </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">error</td><td>- Pointer to <code>apn_error</code> structure to return error information to the caller. Pass NULL as the <code><a class="el" href="group__errors.html#gaa424e426456164c91dee79e62a62d847">apn_error</a></code> pointer, if error information should not be returned to the caller</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Point to new <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure on success</li>
<li>NULL on failure with error information stored in <code>error</code></li>
</ul>
</dd></dl>
<p><b>Returned error codes (<a class="el" href="group__errors.html#ga1654b036b0456605a122e3269280f637" title="Returns error code. ">apn_error_code()</a>):</b></p>
<ul>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a68e1e740d6e710fb6906408474bfaca9" title="Connection contex is not initialized. ">APN_ERR_CTX_NOT_INITIALIZED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a010bf4c38b3c2a3a0d258d50e1a01711" title="No free memory. ">APN_ERR_NOMEM</a> </li>
</ul>

</div>
</div>
<a class="anchor" id="gab6accd834758a13c93b8f8c7c6501ae2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t apn_add_token </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a>&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new target device token. </p>
<p>Device token are used for identification of targets which will receive the notification.</p>
<dl class="section see"><dt>See Also</dt><dd>apn_payload_add_tokn()</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If device tokens are added both to apn_ctx and to payload_ctx, tokens from payload_ctx will be used when sending push notification</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>- Pointer to an initialized <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure. Cannot be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>- Device token. Must be a valid NULL-terminated string </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">error</td><td>- Pointer to <code>apn_error</code> structure to return error information to the caller. Pass NULL as the <code><a class="el" href="group__errors.html#gaa424e426456164c91dee79e62a62d847">apn_error</a></code> pointer, if error information should not be returned to the caller</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="apn_8h.html#a62cf6d2d25236abf7592c68f3a7cd74b">APN_SUCCESS</a> on success</li>
<li><a class="el" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a> on failure with error information stored in <code>error</code></li>
</ul>
</dd></dl>
<p><b>Returned error codes (<a class="el" href="group__errors.html#ga1654b036b0456605a122e3269280f637" title="Returns error code. ">apn_error_code()</a>):</b></p>
<ul>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a68e1e740d6e710fb6906408474bfaca9" title="Connection contex is not initialized. ">APN_ERR_CTX_NOT_INITIALIZED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8acd1b72ee33eb4faec99e9da414dddefe" title="Added too many device tokens. ">APN_ERR_TOKEN_TOO_MANY</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a7df8ece131b9072c6ea963ae793187a6" title="Invalid device token. ">APN_ERR_TOKEN_INVALID</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a010bf4c38b3c2a3a0d258d50e1a01711" title="No free memory. ">APN_ERR_NOMEM</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a8fa71c0af4aff3201d543f99be124bd8">APN_ERR_INVALID_ARGUMENT</a> </li>
</ul>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="send_push_8c-example.html#a11">send_push.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga3980a47a018a5e1689d9ecda3fc60a6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a94629b8dff1d90bbdb3d20246a777316">__apn_export__</a> uint8_t apn_send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__feedback.html#gac5e6c258440fdbf45bbdeb7dddb537ae">apn_ctx_ref</a>&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__payload.html#gadd50c6398444e7328d583b34e843fc99">apn_payload_ctx_ref</a>&#160;</td>
          <td class="paramname"><em>payload_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__errors.html#ga3f9070b535461026e4d0d0ae5c1562c9">apn_error_ref</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends push notification. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>- Pointer to an initialized <code><a class="el" href="group__feedback.html#gae987a014f823b3454f67082025aab0d2">apn_ctx</a></code> structure. Cannot be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_ctx</td><td>- Pointer to <code><a class="el" href="group__payload.html#ga4acf110fff336bbeb4f94f6dd379217a">apn_payload_ctx</a></code> structure. Cannot be NULL </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">error</td><td>- Pointer to pointer to <code><a class="el" href="group__errors.html#gaa424e426456164c91dee79e62a62d847">apn_error</a></code> structure to return error information to the caller Pass NULL as the <code><a class="el" href="group__errors.html#gaa424e426456164c91dee79e62a62d847">apn_error</a></code> pointer, if error information should not be returned to the caller</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="apn_8h.html#a62cf6d2d25236abf7592c68f3a7cd74b">APN_SUCCESS</a> on success</li>
<li><a class="el" href="apn_8h.html#a23bee0bada8ce1aedfb8f2bde0739c28">APN_ERROR</a> on failure with error information stored in <code>error</code></li>
</ul>
</dd></dl>
<p><b>Returned error codes (<a class="el" href="group__errors.html#ga1654b036b0456605a122e3269280f637" title="Returns error code. ">apn_error_code()</a>):</b></p>
<ul>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a68e1e740d6e710fb6906408474bfaca9" title="Connection contex is not initialized. ">APN_ERR_CTX_NOT_INITIALIZED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8ae2f89f9c0b099a660f1fb4bc7418ef71" title="Path to SSL certificate file which is used to set up a secure connection is not set. ">APN_ERR_CERTIFICATE_IS_NOT_SET</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a452661677aa39b04fa2a761b69ef8464" title="Device token is not set. ">APN_ERR_TOKEN_IS_NOT_SET</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8ac46a3cc14aaa0d0b2adc84557da76ada" title="Path to private key file which is used to set up a secure connection is not set. ">APN_ERR_PRIVATE_KEY_IS_NOT_SET</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8af8e8ca0578eb385bc41f3c8881431f68" title="Payload notification contex is not initialized. ">APN_ERR_PAYLOAD_CTX_NOT_INITIALIZED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a1a15bb72a988151fcbe592f39961488a" title="Too many custom properties. ">APN_ERR_PAYLOAD_TOO_MANY_CUSTOM_PROPERTIES</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8ac917b6bacb5f1827102aef95f37c0ec8" title="Specified custom property key is already used. ">APN_ERR_PAYLOAD_CUSTOM_PROPERTY_KEY_IS_ALREADY_USED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a00e851ac9253bee30c9ba10a0479bebe" title="Notification payload is not set. ">APN_ERR_PAYLOAD_IS_NOT_SET</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a925fb58b39a32170592ad58480aa154a" title="Alert message text is not set. ">APN_ERR_PAYLOAD_ALERT_IS_NOT_SET</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8ab8641eac2bcd7fe5af84df3443217cde" title="Invalid size of notification payload. ">APN_ERR_INVALID_PAYLOAD_SIZE</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a7df8ece131b9072c6ea963ae793187a6" title="Invalid device token. ">APN_ERR_TOKEN_INVALID</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8afcf8fb1c0af0c4bcd94a894cf56d77ec" title="No opened connection to Apple Push Notification Service. ">APN_ERR_NOT_CONNECTED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a2af17c3b43f8b3c17c7251d3b9e80bcf" title="Connection was closed. ">APN_ERR_CONNECTION_CLOSED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a68a0529624d3a724f481dd2bce55dc98" title="system call select() returned error ">APN_ERR_SELECT</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8aa798dc742122179eaaddd31f2812c6bd" title="SSL_read failed. ">APN_ERR_SSL_READ_FAILED</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8ab614aefd87fe44c5317cb72308a79756" title="Could not create json document. ">APN_ERR_PAYLOAD_COULD_NOT_CREATE_JSON_DOCUMENT</a></li>
<li><a class="el" href="group__errors.html#gga7cf31efe660cb0ab36a840f09a9fd5d8a010bf4c38b3c2a3a0d258d50e1a01711" title="No free memory. ">APN_ERR_NOMEM</a> </li>
</ul>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="send_push_8c-example.html#a21">send_push.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 28 2014 17:29:46 for libcapn by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
